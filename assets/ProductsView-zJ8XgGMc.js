import{_ as k,m,a as f,r as i,o as a,c,d as n,b as e,n as v,w as g,F as l,j as h,f as u,t as d,h as $,k as L,g as S,p as V,l as x}from"./index-hv3GUEaf.js";import{p as y}from"./productStore-9B5OhvFB.js";import{c as C}from"./cartStore-jKO-w4ec.js";import{P as A}from"./PaginationComponent-x3k5vaF0.js";import"./sweetalert2.all-GaRjTAm_.js";const I={data(){return{categories:["冰品","甜點","飲品"]}},components:{PaginationComponent:A},computed:{...m(y,["products","pagination","loadItem","isLoading"]),...m(C,["cartList","status"])},methods:{...f(y,["getProducts","getProductItem"]),...f(C,["addCart","getCarts"]),fetchProducts(){this.getProducts(this.$route.query.category)},changePage(o){const s=this.$route.query.category||"";this.getProducts(s,o),s===""?this.$router.push("/products"):this.$router.push(`/products?category=${s}`)},isActive(o){return this.$route.fullPath===o},handleCategoryChange(o){const s=o.target.value;s==="all"?this.$router.push("/products"):this.$router.push(`/products?category=${s}`)}},watch:{"$route.query":{handler(){this.fetchProducts()},deep:!0}},mounted(){this.fetchProducts(),this.getCarts()}},B=o=>(V("data-v-324f3b7b"),o=o(),x(),o),N={class:"container g-wrapper"},q=B(()=>e("h2",{class:"text-center"},"美味菜單",-1)),j={class:"d-none d-md-block"},D={class:"d-flex justify-content-center my-3 product-menu"},F={class:"d-md-none"},R=["selected"],z=["value","selected"],E={class:"mt-4"},M={class:"row row-cols-2 row-cols-md-3 row-cols-lg-5 my-4 g-4"},T={class:"procard"},U={class:"procard-image"},G=["src"],H={class:"procard-text"},J={class:"tibox"},K={class:"card-text"},O={class:"btn-group btn-group-sm d-flex"},Q=["disabled","onClick"];function W(o,s,X,Y,_,r){const P=i("VueLoading"),p=i("RouterLink"),b=i("font-awesome-icon"),w=i("PaginationComponent");return a(),c(l,null,[n(P,{active:o.isLoading},null,8,["active"]),e("div",N,[q,e("div",j,[e("ul",D,[e("li",{class:v(["rounded-pill",{active:r.isActive("/products")}])},[n(p,{to:"/products"},{default:g(()=>[u("全部")]),_:1})],2),(a(!0),c(l,null,h(_.categories,t=>(a(),c("li",{class:v(["rounded-pill",{active:r.isActive(`/products?category=${t}`)}]),key:t},[n(p,{to:`/products?category=${t}`},{default:g(()=>[u(d(t),1)]),_:2},1032,["to"])],2))),128))])]),e("div",F,[e("select",{class:"form-select","aria-label":"Default select example",onChange:s[0]||(s[0]=(...t)=>r.handleCategoryChange&&r.handleCategoryChange(...t))},[e("option",{value:"all",selected:r.isActive("/products")},"全部",8,R),(a(!0),c(l,null,h(_.categories,t=>(a(),c("option",{key:t,value:t,selected:r.isActive(`/products?category=${t}`)},d(t),9,z))),128))],32)]),e("div",E,[e("div",M,[(a(!0),c(l,null,h(o.products,t=>(a(),c("div",{class:"col",key:t.id},[e("div",T,[e("div",U,[n(p,{to:`/product-view/${t.id}`},{default:g(()=>[e("img",{src:t.imageUrl,alt:"圖片"},null,8,G)]),_:2},1032,["to"])]),e("div",H,[e("div",J,d(t.title),1),e("p",K,[e("del",null,"原價 "+d(t.origin_price)+" 元",1),u(" / "),e("span",null,"特價 "+d(t.price)+" 元",1)]),e("div",O,[e("button",{type:"button",class:"btn btn-outline-danger",disabled:t.id===o.status.loadCart,onClick:$(Z=>o.addCart(t.id),["prevent"])},[t.id===o.status.loadCart?(a(),L(b,{key:0,icon:["fas","spinner"],"spin-pulse":""})):S("",!0),u(" 加到購物車 ")],8,Q)])])])]))),128))])]),n(w,{pages:o.pagination,onChangePage:r.changePage},null,8,["pages","onChangePage"])])],64)}const rt=k(I,[["render",W],["__scopeId","data-v-324f3b7b"]]);export{rt as default};
