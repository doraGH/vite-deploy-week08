import{c as J,g as Z,_ as O,r as k,o as m,a as v,b as t,F as x,d as X,t as S,w as tt,e as et,v as st,f as g,h as d,i as _,j as B,m as at,k as ot,n as E,l as it}from"./index-ADMgmOFv.js";import{c as I}from"./cartStore-D0Hoi1su.js";import{r as nt,a as rt,b as lt,c as ct,d as dt,e as ht,f as ut,g as ft}from"./scrollbar-Ux6MPrIQ.js";import"./sweetalert2.all-CAdgv-ta.js";var P={exports:{}};/*!
  * Bootstrap offcanvas.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(i,f){(function(h,a){i.exports=a(nt(),rt(),lt(),ct(),dt(),ht(),ut(),ft())})(J,function(h,a,o,u,b,s,r,w){const C="offcanvas",l=".bs.offcanvas",D=".data-api",G=`load${l}${D}`,R="Escape",N="show",y="showing",A="hiding",q="offcanvas-backdrop",T=".offcanvas.show",H=`show${l}`,j=`shown${l}`,U=`hide${l}`,L=`hidePrevented${l}`,V=`hidden${l}`,z=`resize${l}`,F=`click${l}${D}`,Y=`keydown.dismiss${l}`,K='[data-bs-toggle="offcanvas"]',W={backdrop:!0,keyboard:!0,scroll:!1},Q={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class c extends h{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return W}static get DefaultType(){return Q}static get NAME(){return C}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||a.trigger(this._element,H,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new w().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(y);const $=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(N),this._element.classList.remove(y),a.trigger(this._element,j,{relatedTarget:e})};this._queueCallback($,this._element,!0)}hide(){if(!this._isShown||a.trigger(this._element,U).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(A),this._backdrop.hide();const n=()=>{this._element.classList.remove(N,A),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new w().reset(),a.trigger(this._element,V)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){a.trigger(this._element,L);return}this.hide()},n=!!this._config.backdrop;return new u({className:q,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new s({trapElement:this._element})}_addEventListeners(){a.on(this._element,Y,e=>{if(e.key===R){if(this._config.keyboard){this.hide();return}a.trigger(this._element,L)}})}static jQueryInterface(e){return this.each(function(){const n=c.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}return a.on(document,F,K,function(p){const e=o.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),r.isDisabled(this))return;a.one(e,V,()=>{r.isVisible(this)&&this.focus()});const n=o.findOne(T);n&&n!==e&&c.getInstance(n).hide(),c.getOrCreateInstance(e).toggle(this)}),a.on(window,G,()=>{for(const p of o.find(T))c.getOrCreateInstance(p).show()}),a.on(window,z,()=>{for(const p of o.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(p).position!=="fixed"&&c.getOrCreateInstance(p).hide()}),b.enableDismissTrigger(c),r.defineJQueryPlugin(c),c})})(P);var pt=P.exports;const _t=Z(pt),mt={data(){return{bsOffcanvas:null,showBackdrop:!1}},props:["status","carts","total"],emits:["remove-cart","update-cart"],methods:{openModal(){this.showBackdrop=!0,this.bsOffcanvas.show()},hideModal(){this.showBackdrop=!1,this.bsOffcanvas.hide()}},mounted(){this.bsOffcanvas=new _t(this.$refs.cartModal)}},vt={class:"offcanvas offcanvas-end right-cart",ref:"cartModal",tabindex:"-1",id:"offcanvasExample"},gt=t("div",{class:"offcanvas-header border-bottom"},[t("h5",{class:"offcanvas-title"},"您的購物車"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),bt={class:"offcanvas-body p-3"},kt={class:"flex-column mb-auto"},wt={class:"cart-image"},Ct=["src"],Et={class:"cart-desc"},St={class:"title"},xt={class:"pric"},Dt=["disabled","onClick"],Nt={class:"qty"},yt=["onUpdate:modelValue","onBlur"],At={class:"cart-foot"},Tt={class:"total"},Lt=t("p",null,"小計：",-1),Vt={key:0,class:"offcanvas-backdrop fade show"};function $t(i,f,h,a,o,u){const b=k("RouterLink");return m(),v(x,null,[t("div",vt,[gt,t("div",bt,[t("div",kt,[(m(!0),v(x,null,X(h.carts,s=>(m(),v("div",{class:"cart-box",key:s.id},[t("div",wt,[t("img",{class:"img-cart",src:s.product.imageUrl,alt:""},null,8,Ct)]),t("div",Et,[t("div",St,S(s.product.title),1),t("div",xt,"$"+S(s.product.price),1),t("a",{href:"#",class:"cart-remove",disabled:s.id===h.status.loadQty,onClick:tt(r=>i.$emit("remove-cart",s.id),["prevent"])}," remove ",8,Dt)]),t("div",Nt,[et(t("input",{min:"1",type:"number",class:"form-control","onUpdate:modelValue":r=>s.qty=r,onBlur:r=>i.$emit("update-cart",s)},null,40,yt),[[st,s.qty,void 0,{number:!0}]])])]))),128))])]),t("div",At,[t("div",Tt,[Lt,t("p",null,[g("NT$ "),t("span",null,S(h.total),1)])]),d(b,{to:"/cart",class:"btn btn-primary",onClick:u.hideModal},{default:_(()=>[g("繼續結帳")]),_:1},8,["onClick"])])],512),o.showBackdrop?(m(),v("div",Vt)):B("",!0)],64)}const It=O(mt,[["render",$t]]),M="/vite-deploy-week08/assets/logo-ABvAiikU.svg",Ot="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2016.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20id='圖層_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20width='18px'%20height='20px'%20viewBox='0%200%2018%2020'%20enable-background='new%200%200%2018%2020'%20xml:space='preserve'%3e%3cpath%20fill='none'%20stroke='%233D3D3D'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M17,19v-2%20c0-1.061-0.422-2.078-1.172-2.828S14.061,13,13,13H5c-1.061,0-2.078,0.422-2.829,1.172C1.421,14.922,1,15.939,1,17v2'/%3e%3cpath%20fill='none'%20stroke='%233D3D3D'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M9,9c2.209,0,4-1.791,4-4%20s-1.791-4-4-4S5,2.791,5,5S6.791,9,9,9z'/%3e%3c/svg%3e",Bt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2016.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20id='圖層_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20width='24px'%20height='23px'%20viewBox='0%200%2024%2023'%20enable-background='new%200%200%2024%2023'%20xml:space='preserve'%3e%3cpath%20fill='none'%20stroke='%233D3D3D'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M20,22c0.553,0,1-0.447,1-1%20s-0.447-1-1-1s-1,0.447-1,1S19.447,22,20,22z'/%3e%3cpath%20fill='none'%20stroke='%233D3D3D'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M9,22c0.552,0,1-0.447,1-1%20s-0.448-1-1-1s-1,0.447-1,1S8.448,22,9,22z'/%3e%3cpath%20fill='none'%20stroke='%233D3D3D'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M1,1h4l2.68,13.391%20c0.091,0.46,0.342,0.873,0.708,1.168C8.753,15.853,9.211,16.009,9.68,16h9.72c0.469,0.009,0.926-0.147,1.292-0.441%20c0.366-0.295,0.616-0.708,0.708-1.168L23,6H6'/%3e%3c/svg%3e",Pt={data(){return{isHide:!1,btnState:!0,scrolled:!1,isNotHome:!1}},components:{CartOffcanvas:It},watch:{$route(){this.isHide=!1,this.btnState=!0,this.checkHomePage()}},computed:{...at(I,["cartList","status"])},methods:{...ot(I,["getCarts","removeCartItem","updateCart"]),closeNavbar(){this.isHide=!this.isHide,this.btnState=!this.btnState},handleScroll(){this.scrolled=window.scrollY>0},checkHomePage(){this.isNotHome=this.$route.fullPath!=="/"}},mounted(){window.addEventListener("scroll",this.handleScroll),this.getCarts(),this.checkHomePage()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},Mt={class:"fixed-top"},Gt={class:"container-fluid d-flex"},Rt=t("img",{src:M,alt:"",width:"169",height:"70",class:"d-inline-block align-text-top"},null,-1),qt={class:"d-flex justify-content-end navbar-qlink"},Ht=t("img",{src:Ot},null,-1),jt=t("img",{src:Bt,class:"position-relative"},null,-1),Ut={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},zt=t("span",{class:"visually-hidden"},"unread messages",-1),Ft=t("span",{class:"toggler-icon top-bar"},null,-1),Yt=t("span",{class:"toggler-icon middle-bar"},null,-1),Kt=t("span",{class:"toggler-icon bottom-bar"},null,-1),Wt=[Ft,Yt,Kt],Qt={class:"navbar-nav me-auto"},Jt=["aria-expanded"],Zt=it('<footer class="footer"><div class="container py-2"><div class="d-flex flex-wrap justify-content-between align-items-center py-3 my-2"><div class="col-md-7 d-flex align-items-center"><div class="mb-3 me-2 mb-md-0 text-muted"><img src="'+M+'" alt="" width="169" height="70" class="d-inline-block align-text-top"></div><span class="text-muted">© 2024 Sweet Home Shop.</span></div><ul class="nav col-md-4 justify-content-end list-unstyled d-flex fs-4"><li class="ms-4"><a class="text-muted" href="#"><i class="bi bi-facebook"></i></a></li><li class="ms-4"><a class="text-muted" href="#"><i class="bi bi-youtube"></i></a></li><li class="ms-4"><a class="text-muted" href="#"><i class="bi bi-instagram"></i></a></li></ul></div></div></footer>',1);function Xt(i,f,h,a,o,u){const b=k("Router-Link"),s=k("RouterLink"),r=k("CartOffcanvas"),w=k("RouterView");return m(),v(x,null,[t("header",Mt,[t("nav",{class:E(["navbar navbar-expand-md navbar-light",{"pink-light":o.scrolled||o.isNotHome}]),ref:"navbar"},[t("div",Gt,[d(b,{class:"nav-link me-3","aria-current":"page",to:"/"},{default:_(()=>[Rt]),_:1}),t("div",qt,[d(s,{to:"/login",class:"btn btn-sm"},{default:_(()=>[Ht]),_:1}),t("a",{href:"#",onClick:f[0]||(f[0]=(...C)=>i.openSideCart&&i.openSideCart(...C)),"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample","aria-controls":"offcanvasExample",class:"btn btn-sm position-relative me-4"},[jt,i.cartList.carts?(m(),v("span",Ut,[g(S(i.cartList.carts.length)+" ",1),zt])):B("",!0)]),t("button",{class:E(["navbar-toggler d-flex d-md-none flex-column justify-content-around",{collapsed:o.btnState}]),type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",onClick:f[1]||(f[1]=C=>o.btnState=!o.btnState)},Wt,2)]),t("div",{class:E(["collapse navbar-collapse",{hide:o.isHide}]),id:"navbarNav",ref:"navbarNav"},[t("div",Qt,[d(s,{to:"/products",class:"nav-item nav-link me-1",onClick:u.closeNavbar,"aria-current":"page"},{default:_(()=>[g("美味菜單")]),_:1},8,["onClick"]),d(s,{to:"/story",class:"nav-item nav-link me-1",onClick:u.closeNavbar,"aria-current":"page"},{default:_(()=>[g("品牌故事")]),_:1},8,["onClick"]),d(s,{to:"/terms",class:"nav-item nav-link me-1",onClick:u.closeNavbar,"aria-current":"page"},{default:_(()=>[g("購買須知")]),_:1},8,["onClick"])])],2)])],2)]),t("div",{class:E(["cover",{show:!o.btnState}]),"aria-expanded":String(o.btnState)},null,10,Jt),d(r,{ref:"cartModal",carts:i.cartList.carts,total:i.cartList.total,status:i.status.loadQty,onRemoveCart:i.removeCartItem,onUpdateCart:i.updateCart},null,8,["carts","total","status","onRemoveCart","onUpdateCart"]),d(w),Zt],64)}const ie=O(Pt,[["render",Xt]]);export{ie as default};
