import{_ as b,o as r,c,a as t,F as _,r as S,t as h,w as y,b as D,v as L,d as m,m as V,e as N,f as p,n as v,g as i,h as u,i as $,j as E}from"./index-c7Z2GH4O.js";import{c as g}from"./cartStore-xsCdpEFa.js";import"./sweetalert2.all-AULtL-nT.js";const T={props:["status","carts","total","cartsLength"],emits:["remove-cart","update-cart"],methods:{goToCart(){this.$router.push("/cart")},goToShop(){this.$router.push("/products")}}},H={class:"offcanvas offcanvas-end right-cart",tabindex:"-1",ref:"cartModal",id:"offcanvasExample","aria-labelledby":"offcanvasExampleLabel"},B=t("div",{class:"offcanvas-header border-bottom"},[t("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"},"您的購物車"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),G={class:"offcanvas-body p-3"},j={class:"flex-column mb-auto"},P={class:"cart-image"},M=["src"],U={class:"cart-desc"},I={class:"title"},R={class:"pric"},A=["disabled","onClick"],O={class:"qty"},q=["onUpdate:modelValue","onBlur"],z={class:"cart-foot"},F={class:"total"},Y=t("p",null,"小計：",-1);function Q(s,a,d,w,o,n){return r(),c("div",H,[B,t("div",G,[t("div",j,[(r(!0),c(_,null,S(d.carts,e=>(r(),c("div",{class:"cart-box",key:e.id},[t("div",P,[t("img",{class:"img-cart",src:e.product.imageUrl,alt:""},null,8,M)]),t("div",U,[t("div",I,h(e.product.title),1),t("div",R,"$"+h(e.product.price),1),t("a",{href:"#",class:"cart-remove",disabled:e.id===d.status.loadQty,onClick:y(l=>s.$emit("remove-cart",e.id),["prevent"])}," remove ",8,A)]),t("div",O,[D(t("input",{min:"1",type:"number",class:"form-control","onUpdate:modelValue":l=>e.qty=l,onBlur:l=>s.$emit("update-cart",e)},null,40,q),[[L,e.qty,void 0,{number:!0}]])])]))),128))])]),t("div",z,[t("div",F,[Y,t("p",null,[m("NT$ "),t("span",null,h(d.total),1)])]),d.cartsLength>0?(r(),c("button",{key:0,type:"button",class:"btn btn-primary","data-bs-dismiss":"offcanvas",onClick:a[0]||(a[0]=(...e)=>n.goToCart&&n.goToCart(...e))},"前往結帳")):(r(),c("button",{key:1,type:"button","data-bs-dismiss":"offcanvas",class:"btn btn-secondary text-white w-100",onClick:a[1]||(a[1]=(...e)=>n.goToShop&&n.goToShop(...e))}," 繼續購物"))])],512)}const W=b(T,[["render",Q]]),k="/vite-deploy-week08/assets/logo-ABvAiikU.svg",J="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2016.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20id='圖層_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20width='18px'%20height='20px'%20viewBox='0%200%2018%2020'%20enable-background='new%200%200%2018%2020'%20xml:space='preserve'%3e%3cpath%20fill='none'%20stroke='%233D3D3D'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M17,19v-2%20c0-1.061-0.422-2.078-1.172-2.828S14.061,13,13,13H5c-1.061,0-2.078,0.422-2.829,1.172C1.421,14.922,1,15.939,1,17v2'/%3e%3cpath%20fill='none'%20stroke='%233D3D3D'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M9,9c2.209,0,4-1.791,4-4%20s-1.791-4-4-4S5,2.791,5,5S6.791,9,9,9z'/%3e%3c/svg%3e",K="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2016.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20id='圖層_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20width='24px'%20height='23px'%20viewBox='0%200%2024%2023'%20enable-background='new%200%200%2024%2023'%20xml:space='preserve'%3e%3cpath%20fill='none'%20stroke='%233D3D3D'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M20,22c0.553,0,1-0.447,1-1%20s-0.447-1-1-1s-1,0.447-1,1S19.447,22,20,22z'/%3e%3cpath%20fill='none'%20stroke='%233D3D3D'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M9,22c0.552,0,1-0.447,1-1%20s-0.448-1-1-1s-1,0.447-1,1S8.448,22,9,22z'/%3e%3cpath%20fill='none'%20stroke='%233D3D3D'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M1,1h4l2.68,13.391%20c0.091,0.46,0.342,0.873,0.708,1.168C8.753,15.853,9.211,16.009,9.68,16h9.72c0.469,0.009,0.926-0.147,1.292-0.441%20c0.366-0.295,0.616-0.708,0.708-1.168L23,6H6'/%3e%3c/svg%3e",X={data(){return{isHide:!1,btnState:!0,scrolled:!1,isNotHome:!1}},components:{CartOffcanvas:W},watch:{$route(){this.isHide=!1,this.btnState=!0,this.checkHomePage()}},computed:{...V(g,["cartList","status","cartsLengthComputed"])},methods:{...N(g,["getCarts","removeCartItem","updateCart"]),closeNavbar(){this.isHide=!this.isHide,this.btnState=!this.btnState},handleScroll(){this.scrolled=window.scrollY>0},checkHomePage(){this.isNotHome=this.$route.fullPath!=="/"}},mounted(){window.addEventListener("scroll",this.handleScroll),this.getCarts(),this.checkHomePage()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},Z={class:"fixed-top"},tt={class:"container-fluid d-flex"},et=t("img",{src:k,alt:"",width:"169",height:"70",class:"d-inline-block align-text-top"},null,-1),st={class:"d-flex justify-content-end navbar-qlink"},at=t("img",{src:J},null,-1),ot=t("img",{src:K,class:"position-relative"},null,-1),nt={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},lt=t("span",{class:"visually-hidden"},"unread messages",-1),it=t("span",{class:"toggler-icon top-bar"},null,-1),rt=t("span",{class:"toggler-icon middle-bar"},null,-1),ct=t("span",{class:"toggler-icon bottom-bar"},null,-1),dt=[it,rt,ct],ut={class:"navbar-nav me-auto"},mt=["aria-expanded"],pt=E('<footer class="footer"><div class="container py-2"><div class="d-flex flex-wrap justify-content-between align-items-center py-3 my-2"><div class="col-md-7 d-flex align-items-center"><div class="mb-3 me-2 mb-md-0 text-muted"><img src="'+k+'" alt="" width="169" height="70" class="d-inline-block align-text-top"></div><span class="text-muted">© 2024 Sweet Home Shop.</span></div><ul class="nav col-md-4 justify-content-end list-unstyled d-flex fs-4"><li class="ms-4"><a class="text-muted" href="#"><i class="bi bi-facebook"></i></a></li><li class="ms-4"><a class="text-muted" href="#"><i class="bi bi-youtube"></i></a></li><li class="ms-4"><a class="text-muted" href="#"><i class="bi bi-instagram"></i></a></li></ul></div></div></footer>',1);function vt(s,a,d,w,o,n){const e=p("Router-Link"),l=p("RouterLink"),x=p("CartOffcanvas"),C=p("RouterView");return r(),c(_,null,[t("header",Z,[t("nav",{class:v(["navbar navbar-expand-md navbar-light",{"pink-light":o.scrolled||o.isNotHome}]),ref:"navbar"},[t("div",tt,[i(e,{class:"nav-link me-3","aria-current":"page",to:"/"},{default:u(()=>[et]),_:1}),t("div",st,[i(l,{to:"/login",class:"btn btn-sm"},{default:u(()=>[at]),_:1}),t("a",{href:"#",onClick:a[0]||(a[0]=(...f)=>s.openSideCart&&s.openSideCart(...f)),"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample","aria-controls":"offcanvasExample",class:"btn btn-sm position-relative me-4"},[ot,s.cartList.carts?(r(),c("span",nt,[m(h(s.cartList.carts.length)+" ",1),lt])):$("",!0)]),t("button",{class:v(["navbar-toggler d-flex d-md-none flex-column justify-content-around",{collapsed:o.btnState}]),type:"button","aria-label":"Toggle navigation",onClick:a[1]||(a[1]=f=>o.btnState=!o.btnState),"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample","aria-controls":"offcanvasExample"},dt,2)]),t("div",{class:v(["collapse navbar-collapse",{hide:o.isHide}]),id:"navbarNav",ref:"navbarNav"},[t("div",ut,[i(l,{to:"/products",class:"nav-item nav-link me-1",onClick:n.closeNavbar,"aria-current":"page"},{default:u(()=>[m("美味菜單")]),_:1},8,["onClick"]),i(l,{to:"/story",class:"nav-item nav-link me-1",onClick:n.closeNavbar,"aria-current":"page"},{default:u(()=>[m("品牌故事")]),_:1},8,["onClick"]),i(l,{to:"/terms",class:"nav-item nav-link me-1",onClick:n.closeNavbar,"aria-current":"page"},{default:u(()=>[m("購買須知")]),_:1},8,["onClick"])])],2)])],2)]),t("div",{class:v(["cover",{show:!o.btnState}]),"aria-expanded":String(o.btnState)},null,10,mt),i(x,{ref:"cartModal",carts:s.cartList.carts,total:s.cartList.total,status:s.status.loadQty,"carts-length":s.cartsLengthComputed,onRemoveCart:s.removeCartItem,onUpdateCart:s.updateCart},null,8,["carts","total","status","carts-length","onRemoveCart","onUpdateCart"]),i(C),pt],64)}const bt=b(X,[["render",vt]]);export{bt as default};
