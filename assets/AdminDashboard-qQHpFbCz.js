import{_ as h,r as l,o as d,c as v,b as e,d as s,w as n,f as r,h as g,i as _,k as b,g as k,F as $}from"./index-mK48P60-.js";import{S as p}from"./sweetalert2.all-qNhIK2og.js";var x={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"dorayu",BASE_URL:"/vite-deploy-week08/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:R}=x,V={methods:{logout(){this.axios.post(`${R}/logout`).then(()=>{p.fire("您已成功登出"),document.cookie="hexToken=; expires=; path=/",this.$router.push("/login")}).catch(()=>{p.fire("請重新登入"),this.$router.push("/login")})}}},E={class:"navbar fixed-top navbar-expand-lg navbar-light bg-light"},T={class:"container-fluid"},L=e("a",{class:"navbar-brand",href:"#"},"後台管理頁面",-1),N=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),A={class:"collapse navbar-collapse",id:"navbarNav"},w={class:"navbar-nav"},S={class:"navbar-nav ms-auto"};function D(t,o,m,f,u,i){const a=l("RouterLink");return d(),v("nav",E,[e("div",T,[L,N,e("div",A,[e("div",w,[s(a,{to:"/admin/products",class:"nav-link"},{default:n(()=>[r("產品")]),_:1}),s(a,{to:"/admin/orders",class:"nav-link"},{default:n(()=>[r("訂單")]),_:1}),s(a,{to:"/admin/coupons",class:"nav-link"},{default:n(()=>[r("優惠券")]),_:1}),e("a",{href:"#",onClick:o[0]||(o[0]=g((...c)=>i.logout&&i.logout(...c),["prevent"])),class:"nav-link"},"登出")]),e("div",S,[s(a,{to:"/",class:"nav-link"},{default:n(()=>[r("返回前台")]),_:1})])])])])}const I=h(V,[["render",D]]);var U={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"dorayu",BASE_URL:"/vite-deploy-week08/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:y}=U,B={components:{AdminNavbar:I},data(){return{status:!1}},methods:{checkLogin(){const t=`${y}/api/user/check`;this.axios.post(t).then(()=>{this.status=!0,_.success("登入成功!")}).catch(o=>{_.error(o.response.data.message),this.$router.push("/login")})}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=t,this.checkLogin()}},C={id:"login-page",class:"container-fluid"};function O(t,o,m,f,u,i){const a=l("AdminNavbar"),c=l("RouterView");return d(),v($,null,[s(a),e("div",C,[u.status?(d(),b(c,{key:0})):k("",!0)])],64)}const F=h(B,[["render",O]]);export{F as default};
